<div class="page-header">
    <h1><%= title %> <small> | <%= links.length %> Links in Database</small></h1>
    <a class="btn btn-warning btn-sm" href="/controller/link/add">Add a Link</a>
</div>
<table id="link_table" class="table table-striped table-bordered table-hover" cellspacing="0" width="100%">
    <thead>
        <tr>
            <th>Link</th>
            <th>Short Link</th>
            <th>Type</th>
            <th>Manipulation</th>
        </tr>
    </thead>
    <tfoot>
        <tr>
            <th>Link</th>
            <th>Short Link</th>
            <th>Type</th>
            <th>Manipulation</th>
        </tr>
    </tfoot>

    <tbody>
        <% links.forEach(function(link, index) { %>
            <tr>
                <td>
                    <%= link.long %>
                </td>
                <td>
                    <%= link.short %>
                </td>
                <td>
                    <%= link.short.length == 5 ? "Auto" : "Manual" %>
                </td>
                <td>
                    <div class="btn-group">
                        <a type="button" target="_blank" class="btn btn-default" href="/controller/link/edit?id=<%= link._id %>">
                            <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                        </a>
                        <a type="button" class="btn btn-default" href="/controller/link/remove?id=<%= link._id %>">
                            <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                        </a>
                    </div>
                </td>
            </tr>
        <% }) %>
    </tbody>
</table>

<script>
    $(document).ready(function() {
        $("#link_page").addClass("active");
        var dt = $('#link_table').DataTable({
            lengthMenu: [
                [10, 25, 50, -1],
                [10, 25, 50, "All"]
            ],
            stateSave: true,
        });
    });
</script>
