<div class="page-header">
    <h1><%= title %> <small> | <%= users.length %> Users in Database</small></h1>
    <a class="btn btn-warning btn-sm" href="/controller/user/add">Add a User</a>
</div>
<table id="user_table" class="table table-striped table-bordered table-hover" cellspacing="0" width="100%">
    <thead>
        <tr>
            <th>Name</th>
            <th>Password</th>
            <th>Admin</th>
            <th>AppID</th>
            <th>AppSecret</th>
            <th>Manipulation</th>
        </tr>
    </thead>
    <tfoot>
        <tr>
            <th>Name</th>
            <th>Password</th>
            <th>Admin</th>
            <th>App ID</th>
            <th>App Secret</th>
            <th>Manipulation</th>
        </tr>
    </tfoot>

    <tbody>
        <% users.forEach(function(user, index) { %>
            <tr>
                <td>
                    <%= user.name %>
                </td>
                <td>
                    <%= user.password %>
                </td>
                <td>
                    <%= user.admin ? "True" : "False" %>
                </td>
                <td>
                    <%= user.appid %>
                </td>
                <td>
                    <%= user.appsecret %>
                </td>
                <td>
                    <div class="btn-group">
                        <a type="button" target="_blank" class="btn btn-default" href="/controller/user/edit?id=<%= user._id %>">
                            <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                        </a>
                        <a type="button" class="btn btn-default" href="/controller/user/remove?id=<%= user._id %>">
                            <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                        </a>
                    </div>
                </td>
            </tr>
        <% }) %>
    </tbody>
</table>

<script>
    $(document).ready(function() {
        $("#user_page").addClass("active");
        var dt = $('#user_table').DataTable({
            lengthMenu: [
                [10, 25, 50, -1],
                [10, 25, 50, "All"]
            ],
            stateSave: true,
        });
    });
</script>
